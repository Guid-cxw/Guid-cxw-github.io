(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8562644c","chunk-50dc2ef4"],{"55b7":function(e,t,a){"use strict";a("b5f9")},7306:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"note-container"},[t("el-card",{staticClass:"aui-card--fill",attrs:{shadow:"never"}},[t("el-form",{ref:"studyForm",attrs:{inline:!0,model:e.dataForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchData()}}},[t("el-form-item",{attrs:{label:"工单编号"}},[t("el-input",{attrs:{placeholder:"请输入工单编号",clearable:""},model:{value:e.dataForm.serialNumber,callback:function(t){e.$set(e.dataForm,"serialNumber",t)},expression:"dataForm.serialNumber"}})],1),t("el-form-item",{attrs:{label:"工单标题"}},[t("el-input",{attrs:{placeholder:"请输入工单标题",clearable:""},model:{value:e.dataForm.title,callback:function(t){e.$set(e.dataForm,"title",t)},expression:"dataForm.title"}})],1),t("el-form-item",{attrs:{label:"工单类型"}},[t("el-select",{attrs:{placeholder:"请选择工单类型",clearable:""},model:{value:e.dataForm.type,callback:function(t){e.$set(e.dataForm,"type",t)},expression:"dataForm.type"}},e._l(e.orderTypeList,(function(e){return t("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),t("el-form-item",{attrs:{label:"工单时间"}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","start-placeholder":"开始时间","end-placeholder":"结束时间",clearable:""},model:{value:e.daterange,callback:function(t){e.daterange=t},expression:"daterange"}})],1),t("el-form-item",{attrs:{label:"发起方"}},[t("el-input",{attrs:{placeholder:"请输入发起方",clearable:""},model:{value:e.dataForm.originator,callback:function(t){e.$set(e.dataForm,"originator",t)},expression:"dataForm.originator"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchData()}}},[e._v("查询")])],1),t("el-form-item",[t("el-button",{on:{click:function(t){return e.reset()}}},[e._v("重置")])],1),t("el-form-item",[t("el-button",{attrs:{type:"success"},on:{click:function(t){return e.launchAdd()}}},[e._v("发起工单")])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataListLoading,expression:"dataListLoading"}],ref:"tables",staticClass:"tab",staticStyle:{width:"100%"},attrs:{data:e.dataList,border:"","header-cell-style":{background:"rgba(194, 210, 255, 0.3)",color:"#040415"},"row-style":e.iRowStyle,"cell-style":e.iCellStyle,"header-row-style":e.iHeaderRowStyle,"row-key":e.getRowsKey},on:{"selection-change":e.dataListSelectionChangeHandle}},[t("el-table-column",{attrs:{prop:"serialNumber",align:"center",label:"工单编号",width:"180"}}),t("el-table-column",{attrs:{prop:"title",label:"工单标题",align:"center",width:"300"}}),t("el-table-column",{attrs:{prop:"typeStr",label:"工单类型",align:"center",width:"150"}}),t("el-table-column",{attrs:{prop:"cityFeedback",label:"地市反馈",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.createDialog(a.row.id)}}},[e._v("\n                            "+e._s(a.row.cityFeedback)+"\n                        ")])]}}])}),t("el-table-column",{attrs:{width:"200px",prop:"createDate",label:"工单时间",align:"center"}}),t("el-table-column",{attrs:{prop:"originator",label:"发起方",align:"center",width:"120"}}),t("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.launchDetail(a.row.id)}}},[e._v("详情")]),4==a.row.type?[t("el-button",{attrs:{type:"text",disabled:1==a.row.canceled},on:{click:function(t){return e.recordLook(a.row)}}},[e._v("\n                                查看反馈\n                            ")])]:e._e(),2==a.row.type?[t("el-button",{attrs:{type:"text",disabled:1==a.row.canceled},on:{click:function(t){return e.cheatLook(a.row)}}},[e._v("\n                                查看反馈\n                            ")])]:e._e(),t("el-button",{attrs:{type:"text",disabled:1==a.row.canceled},on:{click:function(t){return e.launchAmend(a.row.id)}}},[e._v("\n                            修改\n                        ")]),t("el-button",{attrs:{type:"text",disabled:1==a.row.canceled},on:{click:function(t){return e.repeal(a.row.id)}}},[e._v("\n                            "+e._s(1==a.row.canceled?"已撤销":"撤销")+"\n                        ")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.derive(a.row)}}},[e._v("导出")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.pageSizeChangeHandle,"current-change":e.pageCurrentChangeHandle}})],1),e.taskRefVisible?t("task",{ref:"taskRef",on:{refreshDataList:e.getListData}}):e._e(),t("feedback",{ref:"feedbackRef",attrs:{detailId:e.feedbackId},on:{getListData:e.getListData}})],1)},r=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("c5f6"),a("ade3")),o=a("4328"),l=a.n(o),s=a("d7b1"),c=a("ed08"),d=a("b9f5"),u=a("8bc0"),f=a("5d2d"),p=a("dea3");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={name:"workOderList",props:{},mixins:[s["a"]],data:function(){return{message:"我是父组件上的值",dataForm:{type:"",startDate:"",endDate:"",originator:"",title:"",serialNumber:""},daterange:[],orderTypeList:Object(c["b"])("fixedTelephone"),taskRefVisible:!1,feedbackId:""}},computed:{},watch:{daterange:function(e){this.dataForm.startDate=null!==e?e[0]:"",this.dataForm.endDate=null!==e?e[1]:""}},mounted:function(){},activated:function(){},components:{task:d["default"],feedback:u["default"]},methods:{iRowStyle:function(e){e.row,e.rowIndex;return"height:30px"},iHeaderRowStyle:function(e){e.row,e.rowIndex;return"height:30px"},iCellStyle:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return"padding:0px"},init:function(){this.getListData()},reset:function(){this.dataForm=this.$options.data().dataForm,this.daterange=[],this.getListData()},getListData:function(){var e=this;this.dataListLoading=!0,this.$http.get("/workorder/fixedWoBase/page",{params:h({page:this.page,limit:this.limit},this.dataForm)}).then((function(t){if(0!==t.data.code)return e.dataList=[],e.total=0,e.dataListLoading=!1,e.$message.error(t.data.msg);var a=t.data.data;e.total=Number(a.total),e.dataList=a.list,e.dataListLoading=!1}))},launchAdd:function(){var e=this;this.taskRefVisible=!0,this.$nextTick((function(){e.$refs["taskRef"].title="工单新增",e.$refs["taskRef"].isShow=0,e.$refs["taskRef"].init()}))},launchDetail:function(e){var t=this;this.taskRefVisible=!0,this.$nextTick((function(){t.$refs["taskRef"].title="工单详情",t.$refs["taskRef"].dataForm.id=e,t.$refs["taskRef"].isShow=1,t.$refs["taskRef"].init()}))},launchAmend:function(e){var t=this;this.taskRefVisible=!0,this.$nextTick((function(){t.$refs["taskRef"].title="工单修改",t.$refs["taskRef"].dataForm.id=e,t.$refs["taskRef"].isShow=2,t.$refs["taskRef"].init()}))},createDialog:function(e){var t=this;this.$nextTick((function(){t.$refs["feedbackRef"].init(),t.feedbackId=e}))},recordLook:function(e){this.$router.push({path:"/telephone-look-record"}),Object(f["b"])("telephone_look_recordId",JSON.stringify(e.id)),Object(f["b"])("telephone_look_recordType",e.type)},cheatLook:function(e){this.$router.push({path:"/telephone-look-cheat"}),Object(f["b"])("telephone_look_cheatId",JSON.stringify(e.id)),Object(f["b"])("telephone_look_cheatType",e.type)},repeal:function(e){var t=this;this.$confirm("此操作将撤销该记录，请确认操作！","撤销",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(a,i,r){"confirm"===a?t.$http.get("/workorder/fixedWoBase/cancel",{params:{id:e}}).then((function(e){if(0!==e.data.code)return r(),i.confirmButtonLoading=!1,t.$message.error(e.data.msg);i.confirmButtonLoading=!1,r(),t.$message.success("撤销成功"),t.getListData()})):r()}}).finally((function(){ctx.confirmButtonLoading=!1})).catch((function(){ctx.confirmButtonLoading=!1}))},derive:function(e){var t=this;this.$confirm("此操作将导出该记录，请确认操作！","导出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(a,i,r){if("confirm"===a){i.confirmButtonLoading=!0;var n=l.a.stringify({token:t.$getUserToken("token"),id:e.id}),o={method:"get",withCredentials:!1,timeout:36e4,responseType:"blob"};t.$http(h(h({},o),{},{url:"/workorder/fixedWoBase/export?".concat(n)})).then((function(t){Object(p["a"])(t.data,e.title)})),i.confirmButtonLoading=!1,r()}else r()}}).finally((function(){ctx.confirmButtonLoading=!1})).catch((function(){ctx.confirmButtonLoading=!1}))}}},g=b,y=a("2877"),v=Object(y["a"])(g,i,r,!1,null,"994755e0",null);t["default"]=v.exports},"8bc0":function(e,t,a){"use strict";a.r(t);a("c5f6");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"gather-task"},[t("el-dialog",{staticClass:"Dialog",attrs:{visible:e.diaLogClose,title:e.title,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.diaLogClose=t},close:e.closeDialog}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataListLoading,expression:"dataListLoading"}],ref:"tables",staticClass:"tab",staticStyle:{width:"90%",margin:"0 auto"},attrs:{data:e.dataList,border:"","header-cell-style":{background:"rgba(194, 210, 255, 0.3)",color:"#040415"},"row-key":e.getRowsKey},on:{"selection-change":e.dataListSelectionChangeHandle}},[t("el-table-column",{attrs:{prop:"city",align:"center",label:"地市公司"}}),t("el-table-column",{attrs:{prop:"feedbackUsername",label:"反馈人",align:"center"}}),t("el-table-column",{attrs:{prop:"feedbackDate",label:"反馈时间",align:"center"}}),t("el-table-column",{attrs:{prop:"feedbackStatus",label:"反馈状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:e.feedbackStatusType(Number(a.row.feedbackStatus)).type}},[e._v("\n                        "+e._s(e.feedbackStatusType(Number(a.row.feedbackStatus)).txt)+"\n                    ")])]}}])})],1)],1)],1)},r=[],n=a("d7b1"),o={name:"feedback",components:{},props:{detailId:{type:String,default:""}},mixins:[n["a"]],data:function(){return{diaLogClose:!1,isFlag:!1,timer:null,title:"反馈列表"}},computed:{feedbackStatusType:function(){return function(e){var t={};switch(Number(e)){case 0:t.txt="未反馈",t.type="danger";break;case 1:t.txt="已反馈",t.type="success";break;default:t.txt="-",t.type="info";break}return t}}},created:function(){},mounted:function(){},methods:{init:function(){var e=this;this.diaLogClose=!0,this.$nextTick((function(){e.getListData()}))},closeDialog:function(){var e=this;this.diaLogClose=!1,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.isFlag=!1}),500)},getListData:function(){var e=this;this.dataListLoading=!0,this.$http.get("/workorder/fixedWoBase/feedback/list",{params:{id:this.detailId}}).then((function(t){if(0!==t.data.code)return e.dataList=[],e.dataListLoading=!1,e.$message.error(t.data.msg);var a=t.data.data;e.dataList=a,e.dataListLoading=!1}))}}},l=o,s=(a("bd98"),a("2877")),c=Object(s["a"])(l,i,r,!1,null,"1cd0f03b",null);t["default"]=c.exports},93067:function(e,t,a){},b5f9:function(e,t,a){},b9f5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{visible:e.visible,title:e.title,width:"800px","close-on-click-modal":!1,"close-on-press-escape":!1,top:"2%"},on:{"update:visible":function(t){e.visible=t},close:e.closeHandle}},[t("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"120px",disabled:Boolean(1==e.isShow)}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"title",label:"工单标题"}},[t("el-input",{attrs:{placeholder:"请输入工单标题",clearable:""},model:{value:e.dataForm.title,callback:function(t){e.$set(e.dataForm,"title",t)},expression:"dataForm.title"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"type",label:"工单类型"}},[t("el-select",{attrs:{placeholder:"请选择工单类型",clearable:"",disabled:Boolean(2==e.isShow)},on:{change:e.changeType},model:{value:e.dataForm.type,callback:function(t){e.$set(e.dataForm,"type",t)},expression:"dataForm.type"}},e._l(e.orderTypeList,(function(e){return t("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"date",label:"反馈期限"}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.pickerOptions,"default-time":"23:59:59",type:"datetime",placeholder:"选择反馈期限"},model:{value:e.dataForm.date,callback:function(t){e.$set(e.dataForm,"date",t)},expression:"dataForm.date"}})],1),t("el-form-item",{attrs:{label:"案件类别",prop:"filingType"}},[t("el-input",{attrs:{placeholder:"案件类别"},model:{value:e.dataForm.filingType,callback:function(t){e.$set(e.dataForm,"filingType",t)},expression:"dataForm.filingType"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:23}},[t("el-form-item",{attrs:{label:"工单说明"}},[t("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入工单说明"},model:{value:e.dataForm.description,callback:function(t){e.$set(e.dataForm,"description",t)},expression:"dataForm.description"}})],1)],1)],1),1!=e.isShow?t("el-row",[t("el-col",{attrs:{span:24}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix box-card-title",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("模板信息")])]),t("div",{staticClass:"btn"},[t("el-upload",{ref:"upload",staticClass:"model_upload_box",attrs:{drag:"",disabled:e.uploadFlag,action:e.url,headers:{responseType:"arraybuffer"},"file-list":e.fileList,"auto-upload":!1,accept:".XLS, .xls, .XLSX, .xlsx","on-change":e.onChange,"on-remove":e.emoveFileHandleMK}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text",domProps:{innerHTML:e._s("只能上传<em>.XLS,.xls,.XLSX,.xlsx</em>格式文件")}})])],1)])],1)],1):e._e(),1!=e.isShow?t("el-row",[t("el-col",{attrs:{span:24}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix box-card-title",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("附件信息")])]),t("div",{staticClass:"btn"},[t("el-upload",{ref:"appendUpload",staticClass:"model_upload_box",attrs:{drag:"",disabled:e.uploadFlag,action:e.url,headers:{responseType:"arraybuffer"},"file-list":e.appendixFile,multiple:"","auto-upload":!1,limit:10,"on-change":e.onChangeAccessory,"on-remove":e.emoveFileHandleFJ}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text",domProps:{innerHTML:e._s("单个文件不能超过<em>20M</em>,文件数量限制为<em>10个</em>")}})])],1)])],1)],1):e._e(),e.isErrorFlag?t("div",{staticClass:"error-hint"},[t("p",[e._v(e._s(e.errorHint))])]):e._e()],1),1==e.isShow?t("div",[t("el-table",{staticClass:"tab",staticStyle:{width:"100%"},attrs:{data:e.flieData,"header-cell-style":{background:"rgba(194, 210, 255, 0.3)",color:"#040415"}}},[t("el-table-column",{attrs:{prop:"type",label:"文件类型","header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"fileName",label:"文件名称","header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"updateDate",label:"上传时间","header-align":"center",align:"center"}}),t("el-table-column",{attrs:{label:e.$t("handle"),"header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.downLoadFile(a.row)}}},[e._v("下载")])]}}],null,!1,1456136793)})],1)],1):e._e(),t("template",{slot:"footer"},[1!=e.isShow?t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){2==e.isShow?e.updateDataFormSubmitHandle():e.dataFormSubmitHandle()}}},[e._v("\n                "+e._s(e.$t("confirm"))+"\n            ")]):e._e(),t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("cancel")))])],1)],2)},r=[],n=(a("8e6e"),a("456d"),a("ac6a"),a("7f7f"),a("a481"),a("ade3")),o=a("b047"),l=a.n(o),s=a("ed08"),c=a("dea3");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={props:{message:{type:String}},data:function(){var e=this;return{pickerOptions:{disabledDate:function(t){if(e.dataForm.id){var a=new Date(e.currentTime),i=a.getTime();return t.getTime()<i}return t.getTime()<Date.now()-864e5}},title:"工单新增",fileList:[],appendixFile:[],url:"#",visible:!1,dataForm:{id:"",title:"",type:"4",date:"",file:[],filingType:"",description:""},orderTypeList:Object(s["b"])("fixedTelephone"),uploadFlag:!1,templateUrl:"",templateFlag:!1,templateFile:"",flieData:[],errorHint:"",isErrorFlag:!1,timer:null,isShow:0,btnLoading:!1,currentTime:""}},components:{},computed:{dataRule:function(){return{title:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],type:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],date:[{required:!0,message:this.$t("validate.required"),trigger:"change"}]}}},methods:{init:function(){var e=this;this.visible=!0,this.errorHint="",this.isErrorFlag=!1,this.fileList=[],this.appendixFile=[],this.$nextTick((function(){e.$refs["dataForm"].resetFields(),1!=e.isShow&&2!=e.isShow||e.getInfo()}))},closeHandle:function(){var e=this;this.$refs.dataForm.clearValidate(),this.$refs.dataForm.resetFields(),this.dataForm.id="",this.fileList.length>0&&!this.isTab&&(this.$refs.upload.clearFiles(),this.$refs["appendUpload"].clearFiles()),this.visible=!1,this.dataForm.file=[],this.dataForm.appendixFile=[],this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.dataForm=e.$options.data().dataForm,e.isShow=0}),500)},getInfo:function(){var e=this;this.$http.get("/workorder/fixedWoBase/info",{params:{id:this.dataForm.id}}).then((function(t){var a=t.data;if(0!==a.code)return e.$message.error(a.msg);e.dataForm=u(u({},e.dataForm),a.data),e.dataForm.type=String(a.data.type),e.dataForm.date=a.data.feedbackDeadline,e.flieData=a.data.fileInfoList,e.currentTime=a.data.feedbackDeadline})).catch((function(){}))},onChange:function(e,t){this.errorHint="",this.isErrorFlag=!1;var a=e.size/1024/1024<21;if(!a)return this.$message.warning("文件大小不能超过20M"),void(this.fileList=[]);var i=e.name.replace(/.+\./,""),r=["XLS","xls","XLSX","xlsx"];if(-1===r.indexOf(i.toLowerCase()))return this.$message.warning("请上传格式正确的文件"),void(this.fileList=[]);t.length>0&&(this.fileList=[t[t.length-1]],this.dataForm.file=this.fileList[0].raw)},onChangeAccessory:function(e,t){this.errorHint="",this.isErrorFlag=!1;var a=e.size/1024/1024<21;if(!a)return this.$message.warning("单个文件大小不能超过20M"),void t.pop();t.length>10?t.pop():this.appendixFile=t},emoveFileHandleMK:function(e){this.fileList=[],this.dataForm.file=[],this.errorHint="",this.isErrorFlag=!1},emoveFileHandleFJ:function(e,t){this.appendixFile=t,this.errorHint="",this.isErrorFlag=!1},deleteFileRow:function(e){var t=e.id;this.dataForm.attachmentList=this.dataForm.attachmentList.filter((function(e){return e.id!=t}))},downLoadFile:function(e){this.$http({method:"get",withCredentials:!1,timeout:36e4,responseType:"blob",url:"/workorder/common/file/download",params:{fileId:e.id}}).then((function(t){Object(c["a"])(t.data,e.fileName,"")}))},changeType:function(e){},dataFormSubmitHandle:l()((function(){var e=this;this.$refs["dataForm"].validate((function(t){if(!t)return!1;if(0!=e.fileList.length){e.btnLoading=!0;var a=new FormData;for(var i in e.dataForm)a.append(i,e.dataForm[i]);e.appendixFile.length>0&&e.appendixFile.forEach((function(e,t){a.append("appendixFileList",e.raw)})),e.$http.post("/workorder/fixedWoBase/import",a).then((function(t){var a=t.data;if(0!==a.code)return e.btnLoading=!1,e.isErrorFlag=!0,e.errorHint=a.msg,e.$message.error(a.msg);e.btnLoading=!1,e.$message({message:a.msg,type:"success",duration:500,onClose:function(){e.visible=!1,e.closeHandle(),e.$emit("refreshDataList")}})})).catch((function(){e.btnLoading=!1}))}else e.$message.error("请上传模板信息文件")}))}),1e3,{leading:!0,trailing:!1}),successHandle:function(e){0==e.code?(this.$message.success("上传成功！"),this.dataForm.attachmentList=this.dataForm.attachmentList.concat(e.data)):(this.$refs.upload.clearFiles(),this.$message.error(e.msg))},updateDataFormSubmitHandle:l()((function(){var e=this;this.$refs["dataForm"].validate((function(t){if(!t)return!1;e.btnLoading=!0;var a=new FormData;for(var i in e.dataForm)a.append(i,e.dataForm[i]);e.appendixFile.length>0&&e.appendixFile.forEach((function(e,t){a.append("appendixFileList",e.raw)})),e.$http.post("/workorder/fixedWoBase/update/import",a).then((function(t){var a=t.data;if(0!==a.code)return e.btnLoading=!1,e.isErrorFlag=!0,e.errorHint=a.msg,3==e.dataForm.type&&(e.dataForm=e.$options.data().dataForm),e.$message.error(a.msg);e.btnLoading=!1,e.$message({message:a.msg,type:"success",duration:500,onClose:function(){e.visible=!1,e.closeHandle(),e.$emit("refreshDataList")}})})).catch((function(){e.btnLoading=!1}))}))}),1e3,{leading:!0,trailing:!1})}},p=f,m=(a("55b7"),a("2877")),h=Object(m["a"])(p,i,r,!1,null,null,null);t["default"]=h.exports},bd98:function(e,t,a){"use strict";a("93067")}}]);