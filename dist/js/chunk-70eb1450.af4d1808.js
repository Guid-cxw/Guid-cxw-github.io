(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70eb1450","chunk-4155cd69"],{"03ef":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"aui-card--fill",attrs:{shadow:"never"}},[t("div",{staticClass:"mod-demo__correction}"},[t("el-form",{attrs:{inline:!0,model:e.dataForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getDataList()}}},[t("el-form-item",[e.$hasPermission("activiti:correction:all")?t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addOrUpdateHandle()}}},[e._v("\n                    "+e._s(e.$t("add"))+"\n                ")]):e._e()],1),t("el-form-item",[e.$hasPermission("activiti:correction:all")?t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.deleteHandle()}}},[e._v("\n                    "+e._s(e.$t("deleteBatch"))+"\n                ")]):e._e()],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,border:""},on:{"selection-change":e.dataListSelectionChangeHandle}},[t("el-table-column",{attrs:{type:"selection","header-align":"center",align:"center",width:"50"}}),t("el-table-column",{attrs:{prop:"instanceId",label:e.$t("running.id"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"applyPost",label:e.$t("correction.post"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"entryDate",label:e.$t("correction.entryDate"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"correctionDate",label:e.$t("correction.correctionDate"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"workContent",label:e.$t("correction.workContent"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"achievement",label:e.$t("correction.achievement"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"createDate",label:e.$t("createDate"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.showDetail(r.row)}}},[e._v("\n                        "+e._s(e.$t("process.viewFlowImage"))+"\n                    ")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.pageSizeChangeHandle,"current-change":e.pageCurrentChangeHandle}}),e.addOrUpdateVisible?t("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:e.getDataList}}):e._e()],1)])},o=[],n=r("e1a5"),s=r("d9b0"),c=r("5536"),i={mixins:[n["a"],c["a"]],data:function(){return{mixinViewModuleOptions:{getDataListURL:"/act/demo/correction/page",getDataListIsPage:!0,exportURL:"/act/demo/correction/export",deleteURL:"/act/demo/correction",deleteIsBatch:!0},dataForm:{id:""},procDefKey:"correctionprocess"}},components:{AddOrUpdate:s["default"]},methods:{showDetail:function(e){if(!e.id)return this.$message.error(this.$t("task.detailError"));var t={businessKey:e.id,procDefKey:this.procDefKey};this.getProcDefBizRouteAndProcessInstance(t,this.forwardDetail)}}},l=i,d=r("2877"),u=Object(d["a"])(l,a,o,!1,null,null,null);t["default"]=u.exports},5536:function(e,t,r){"use strict";r("8e6e"),r("ac6a"),r("456d");var a=r("ade3"),o=(r("7f7f"),r("a18c"));function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t["a"]={data:function(){return{processVisible:!1}},methods:{initProcessMultiple:function(e){var t=this,r=this.$route.params.processShowType;this.processVisible=!0,this.$nextTick((function(){t.$route.params.processDefinitionKey&&(t.$refs.renProcessMultiple.dataForm.processDefinitionKey=t.$route.params.processDefinitionKey),t.$route.params.taskId&&(t.$refs.renProcessMultiple.dataForm.taskId=t.$route.params.taskId),t.$route.params.processInstanceId&&(t.$refs.renProcessMultiple.dataForm.processInstanceId=t.$route.params.processInstanceId),t.$refs.renProcessMultiple.dataForm.businessKey=t.$route.params.businessKey,t.$refs.renProcessMultiple.showType=r,t.$refs.renProcessMultiple.parentObj=t,t.$refs.renProcessMultiple.callbacks=e}))},closeCurrentTab:function(e){var t=this.$store.state.contentTabsActiveName;if(this.$store.state.contentTabs=this.$store.state.contentTabs.filter((function(e){return e.name!==t})),this.$store.state.contentTabs.length<=0)return this.$store.state.sidebarMenuActiveName=this.$store.state.contentTabsActiveName="home",!1;t===this.$store.state.contentTabsActiveName&&this.$router.push({name:this.$store.state.contentTabs[this.$store.state.contentTabs.length-1].name})},getProcDefRouteSet:function(e,t){var r=this;this.$http.get("/act/process/getProcDefBizRoute/".concat(e.processDefinitionId)).then((function(a){var o=a.data;if(0!==o.code)return r.$message.error(o.msg);if(!o.data||!o.data.bizRoute)return r.$message.error(r.$t("process.routeError"));var n=s(s({},e),o.data);t(n)})).catch((function(){}))},getProcDefBizRouteAndProcessInstance:function(e,t){var r=this;this.$http.get("/act/process/getProcDefBizRouteAndProcessInstance",{params:e}).then((function(a){var o=a.data;if(0!==o.code)return r.$message.error(o.msg);if(!o.data||!o.data.bizRoute)return r.$message.error(r.$t("process.routeError"));var n=s(s({},e),o.data);t(n)})).catch((function(){}))},getLatestProcDefRouteSet:function(e,t){var r=this;this.$http.get("/act/process/getLatestProcDefBizRoute",{params:{procDefKey:e}}).then((function(a){var o=a.data;if(0!==o.code)return r.$message.error(o.msg);if(!o.data||!o.data.bizRoute)return r.$message.error(r.$t("process.routeError"));var n=s({procDefKey:e},o.data);t(n)})).catch((function(){}))},forwardDetail:function(e){var t={routeName:"".concat(this.$route.name,"__detail_").concat(e.processInstanceId),menuId:"".concat(this.$route.meta.menuId),title:"".concat(this.$route.meta.title," - ").concat(e.processDefinitionName),path:e.bizRoute,params:{processInstanceId:e.processInstanceId,businessKey:e.businessKey}};Object(o["a"])(t,this.$router)},forwardTaskDetail:function(e){var t={routeName:"".concat(this.$route.name,"__detail_").concat(e.taskId),menuId:"".concat(this.$route.meta.menuId),title:"".concat(this.$route.meta.title," - ").concat(e.taskName),path:e.bizRoute,params:{taskId:e.taskId,processInstanceId:e.processInstanceId,businessKey:e.businessKey}};Object(o["a"])(t,this.$router)},forwardHandleUrl:function(e){var t={routeName:"".concat(this.$route.name,"__handle_").concat(e.taskId),menuId:"".concat(this.$route.meta.menuId),title:"".concat(this.$route.meta.title," - ").concat(e.taskName),path:e.bizRoute,params:{taskId:e.taskId,processInstanceId:e.processInstanceId,processShowType:"taskHandle",businessKey:e.businessKey}};Object(o["a"])(t,this.$router)}}}},d9b0:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{visible:e.visible,title:e.dataForm.id?e.$t("update"):e.$t("add"),"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"en-US"===e.$i18n.locale?"120px":"80px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmitHandle()}}},[t("el-form-item",{attrs:{label:e.$t("correction.post"),prop:"applyPost"}},[t("el-input",{attrs:{placeholder:e.$t("correction.post")},model:{value:e.dataForm.applyPost,callback:function(t){e.$set(e.dataForm,"applyPost",t)},expression:"dataForm.applyPost"}})],1),t("el-row",{attrs:{gutter:40}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("correction.entryDate"),prop:"entryDate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",placeholder:e.$t("correction.entryDate")},model:{value:e.dataForm.entryDate,callback:function(t){e.$set(e.dataForm,"entryDate",t)},expression:"dataForm.entryDate"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("correction.correctionDate"),prop:"correctionDate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",placeholder:e.$t("correction.correctionDate")},model:{value:e.dataForm.correctionDate,callback:function(t){e.$set(e.dataForm,"correctionDate",t)},expression:"dataForm.correctionDate"}})],1)],1)],1),t("el-form-item",{attrs:{label:e.$t("correction.workContent"),prop:"workContent"}},[t("el-input",{attrs:{type:"textarea",placeholder:e.$t("correction.workContent")},model:{value:e.dataForm.workContent,callback:function(t){e.$set(e.dataForm,"workContent",t)},expression:"dataForm.workContent"}})],1),t("el-form-item",{attrs:{label:e.$t("correction.achievement"),prop:"achievement"}},[t("el-input",{attrs:{type:"textarea",placeholder:e.$t("correction.achievement")},model:{value:e.dataForm.achievement,callback:function(t){e.$set(e.dataForm,"achievement",t)},expression:"dataForm.achievement"}})],1)],1),t("template",{slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("cancel")))]),e.processVisible?t("ren-process-start",{ref:"renProcessStart",attrs:{updateInstanceIdUrl:"/act/demo/correction/updateInstanceId",saveFormUrl:"/act/demo/correction",dataFormName:"dataForm"}}):e._e()],1)],2)},o=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),s=r("5536");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={mixins:[s["a"]],data:function(){return{processVisible:!0,visible:!1,dataForm:{id:"",applyPost:"",entryDate:"",correctionDate:"",workContent:"",achievement:"",creator:"",createDate:""}}},computed:{dataRule:function(){return{applyPost:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],entryDate:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],correctionDate:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],workContent:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],achievement:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}],createTime:[{required:!0,message:this.$t("validate.required"),trigger:"blur"}]}}},methods:{init:function(){var e=this;this.visible=!0,this.$nextTick((function(){e.$refs["dataForm"].resetFields(),e.dataForm.id&&e.getInfo(),e.$refs.renProcessStart.rootObj=e,e.$refs.renProcessStart.callbacks={startProcessSuccessCallback:e.closeCurrentDialog,startProcessErrorCallback:e.startProcessErrorCallback,formSaveSuccessCallback:null,formSaveErrorCallback:null},e.$refs.renProcessStart.dataForm.processDefinitionKey="correctionprocess"}))},getInfo:function(){var e=this;this.$http.get("/act/demo/correction/".concat(this.dataForm.id)).then((function(t){var r=t.data;if(0!==r.code)return e.$message.error(r.msg);e.dataForm=i(i({},e.dataForm),r.data)})).catch((function(){}))},closeCurrentDialog:function(){this.visible=!1,this.$emit("refreshDataList")}}},d=l,u=r("2877"),p=Object(u["a"])(d,a,o,!1,null,null,null);t["default"]=p.exports}}]);