(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a462d"],{"05e7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"aui-card--fill",attrs:{shadow:"never"}},[t("div",{staticClass:"mod-activiti__process"},[t("el-form",{attrs:{inline:!0,model:e.dataForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getDataList()}}},[t("el-form-item",[t("el-input",{attrs:{placeholder:e.$t("process.name"),clearable:""},model:{value:e.dataForm.processName,callback:function(t){e.$set(e.dataForm,"processName",t)},expression:"dataForm.processName"}})],1),t("el-form-item",[t("el-input",{attrs:{placeholder:e.$t("process.key"),clearable:""},model:{value:e.dataForm.key,callback:function(t){e.$set(e.dataForm,"key",t)},expression:"dataForm.key"}})],1),t("el-form-item",[t("el-button",{on:{click:function(t){return e.getDataList()}}},[e._v(e._s(e.$t("query")))])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,border:""},on:{"selection-change":e.dataListSelectionChangeHandle,"sort-change":e.dataListSortChangeHandle}},[t("el-table-column",{attrs:{type:"selection","header-align":"center",align:"center",width:"50"}}),t("el-table-column",{attrs:{prop:"id",label:e.$t("process.id"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"deploymentId",label:e.$t("process.deploymentId"),"header-align":"center",align:"center",width:"80"}}),t("el-table-column",{attrs:{prop:"name",label:e.$t("process.name"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"key",label:e.$t("process.key"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"version",label:e.$t("process.version"),"header-align":"center",align:"center"}}),t("el-table-column",{attrs:{prop:"resourceName",label:e.$t("process.resourceName"),"header-align":"center",align:"center","show-overflow-tooltip":!0,width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a",{attrs:{href:e.getResourceURL(a.row.deploymentId,a.row.resourceName),target:"_blank"}},[e._v("\n                        "+e._s(a.row.resourceName)+"\n                    ")])]}}])}),t("el-table-column",{attrs:{prop:"diagramResourceName",label:e.$t("process.diagramResourceName"),"header-align":"center",align:"center","show-overflow-tooltip":!0,width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a",{attrs:{href:e.getResourceURL(a.row.deploymentId,a.row.diagramResourceName),target:"_blank"}},[e._v("\n                        "+e._s(a.row.diagramResourceName)+"\n                    ")])]}}])}),t("el-table-column",{attrs:{prop:"deploymentTime",label:e.$t("process.deploymentTime"),"header-align":"center",align:"center",width:"180"}}),t("el-table-column",{attrs:{label:e.$t("handle"),fixed:"right","header-align":"center",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.createProcessInstance(a.row)}}},[e._v("\n                        "+e._s(e.$t("process.createInstance"))+"\n                    ")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.pageSizeChangeHandle,"current-change":e.pageCurrentChangeHandle}}),e.addOrUpdateVisible?t("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:e.getDataList}}):e._e()],1)])},n=[],o=(a("7f7f"),a("e1a5")),s=(a("a78e"),a("a18c")),c=a("4328"),l=a.n(c),i={mixins:[o["a"]],data:function(){return{mixinViewModuleOptions:{getDataListURL:"/act/process/lastestPage",getDataListIsPage:!0,deleteURL:"/act/process",deleteIsBatch:!0,deleteIsBatchKey:"deploymentId"},dataForm:{processName:"",key:""},deployVisible:!1}},components:{},methods:{getResourceURL:function(e,t){var a=l.a.stringify({token:this.$getUserToken("token"),deploymentId:e,resourceName:t});return"".concat(window.SITE_CONFIG["apiURL"],"/act/process/resource?").concat(a)},createProcessInstance:function(e){var t=this;this.$http.get("/act/process/getProcDefBizRoute/".concat(e.id)).then((function(a){var r=a.data;return 0!==r.code?t.$message.error(r.msg):r.data&&r.data.bizRoute?void t.forwardUrl(r.data,e):t.$message.error(t.$t("process.routeError"))})).catch((function(){}))},forwardUrl:function(e,t){var a={routeName:"".concat(this.$route.name,"__instance_").concat(e.id),menuId:"".concat(this.$route.meta.menuId),title:"".concat(this.$route.meta.title," - ").concat(t.name),path:e.bizRoute,params:{processDefinitionId:e.procDefId,processDefinitionKey:t.key,processShowType:"start"}};Object(s["a"])(a,this.$router,this.$route)},startProcess:function(e){var t=this,a=l.a.stringify({key:e});this.$http.post("/act/running/start",a).then((function(e){var a=e.data;if(0!==a.code)return t.$message.error(a.msg);t.$message({message:t.$t("prompt.success"),type:"success",duration:500,onClose:function(){t.getDataList()}})})).catch((function(){}))}}},d=i,u=a("2877"),p=Object(u["a"])(d,r,n,!1,null,null,null);t["default"]=p.exports}}]);