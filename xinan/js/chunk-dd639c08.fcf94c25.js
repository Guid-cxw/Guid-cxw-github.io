(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dd639c08","chunk-2d0e9aa5"],{2302:function(e,t,i){"use strict";var n=i("b047"),r=i.n(n);t["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=r()((function(){e.chart&&e.chart.resize()}),300),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},"2a44":function(e,t,i){"use strict";i("bcdc")},"5d69":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"box-card-item",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(e.title))])]),t("el-dropdown",{staticClass:"dropdown",on:{command:e.selectChangeHandle}},[t("el-button",{attrs:{type:"primary"}},[e._v("\n            导出\n            "),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.handleStatusList,(function(i){return t("el-dropdown-item",{key:i.value,attrs:{command:i.value}},[e._v("\n                "+e._s(i.label)+"\n            ")])})),1)],1),t("div",{staticStyle:{height:"calc(5rem - 78px)"}},[t("div",{ref:"pieChartDom1",style:{width:e.width,height:e.height},attrs:{id:"pieChartDom1"}})])],1)},r=[],a=i("ade3"),s=(i("7f7f"),i("313e")),o=i("2302"),d=i("8f01"),l={mixins:[o["a"]],props:{countiesAge:{type:Array,default:function(){return[]}},width:{type:String,default:"100%"},height:{type:String,default:"100%"},title:{type:String,default:"统计分析"},color:{type:Array,default:function(){return["#488DFF","#FF6D36","#F2BD42","#F9FF48","#57D653","#76D6FF"]}}},data:function(){return{chart:null,handleStatusList:[{value:"0",label:"导出PNG文件"},{value:"1",label:"导出Excel数据文件"}]}},watch:{countiesAge:function(e){var t=this,i=e.map((function(e){return e.name}));this.$nextTick((function(){t.initChart(e,i)}))}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(e,t){this.chart=s["b"](this.$refs.pieChartDom1,null,{devicePixelRatio:4}),this.chart.setOption({color:this.color,tooltip:{trigger:"item",formatter:"{b} : {c}人"},legend:{orient:"vartical",top:"center",right:"10%",data:t,textStyle:{lineHeight:20},icon:"rect",itemWidth:16,itemHeight:4},series:[Object(a["a"])({name:this.title,type:"pie",radius:"70%",center:["40%","50%"],data:e,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},labelLine:{show:!0},itemStyle:{borderRadius:8}},"itemStyle",{normal:{label:{show:!0,formatter:"{b}\n{c}人"}},labelLine:{normal:{show:!0,length:20,length2:20,lineStyle:{color:"#12EABE",width:2}}}})]})},selectChangeHandle:function(e){0==e?Object(d["output"])(this.chart,"PNG","pieChartDom1",this.title):1==e&&this.$emit("exportExcel")}}},c=l,h=(i("2a44"),i("2877")),u=Object(h["a"])(c,n,r,!1,null,"e74caf5a",null);t["default"]=u.exports},"8f01":function(e,t,i){"use strict";i.r(t),i.d(t,"output",(function(){return r}));var n=i("5c96");function r(e,t,i,r){if(e){var a=e.getDataURL({type:"png",pixelRatio:1.5,backgroundColor:"#fff",excludeComponents:["toolbox"]});if("PNG"==t){var s=document.createElement("a");s.download=r+".png",s.style.display="none",s.href=a,document.body.appendChild(s),s.click(),URL.revokeObjectURL(s.href),document.body.removeChild(s)}else if("JPEG"==t){var o=document.createElement("a");o.download=r+".jpg",o.style.display="none",o.href=a,document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}else if("SVG"==t){document.querySelector("#"+i);var d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttribute("xmlns","http://www.w3.org/2000/svg"),d.setAttribute("version","1.1"),d.setAttribute("height","80%"),d.setAttribute("width","70%"),d.style.margin="100px auto";var l=document.createElementNS("http://www.w3.org/2000/svg","image");l.href.baseVal=a,l.setAttribute("width","100%"),d.appendChild(l);var c=d.outerHTML,h="data:image/png;base64,"+window.btoa(unescape(encodeURIComponent(c))),u=document.createElement("a");u.download=r+".svg",u.style.display="none",u.href=h,document.body.appendChild(u),u.click(),URL.revokeObjectURL(u.href),document.body.removeChild(u)}}else Object(n["Message"])({message:"暂未绘制图表，请先绘制图表",type:"error"})}},bcdc:function(e,t,i){}}]);