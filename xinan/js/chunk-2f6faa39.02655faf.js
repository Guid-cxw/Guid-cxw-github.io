(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f6faa39","chunk-0a126a6b","chunk-7348fcc8","chunk-7348fcc8","chunk-2d21f098"],{"33a8":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{visible:t.visible,width:"40%",title:t.title,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":""},on:{"update:visible":function(e){t.visible=e},close:t.closedialog}},[e("el-upload",{ref:"upload",staticClass:"model_upload_box",attrs:{drag:"",action:t.url,headers:{responseType:"arraybuffer"},"file-list":t.fileList,"auto-upload":!1,"on-change":t.onChange,accept:".XLS, .xls, .XLSX, .xlsx"}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text",domProps:{innerHTML:t._s("将文件拖到此处，或<em>点击导入</em>")}}),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e("div",[t._v("只支持XLS、xls、XLSX、xlsx格式文件,文件大小不超过20M")])])]),t.isErrorFlag?e("div",{staticClass:"error-hint"},[e("p",[t._v(t._s(t.errorHint))])]):t._e(),e("div",{staticClass:"upload-btn"},[e("p",{staticClass:"red"},[t._v(t._s(t.errormessage))]),e("el-button",{on:{click:t.requestChange}},[t._v("确定上传")])],1)],1)],1)},n=[],i=(a("7f7f"),a("a481"),{props:{title:{type:String,default:function(){return""}},url:{type:String,default:function(){return"#"}},downloadUrl:{type:String,default:function(){return""}}},data:function(){return{fileList:[],xls:".xls",xlsx:".xlsx",visible:!1,isErrorFlag:!1,errorHint:"",errormessage:"",uploadUrl:"",id:""}},methods:{closedialog:function(){this.visible=!1},init:function(){this.visible=!0,this.fileList=[],this.errormessage=""},onChange:function(t,e){this.errormessage="";var a=t.size/1024/1024<21;if(!a)return this.$message.warning("文件大小不能超过20M"),void(this.fileList=[]);var r=t.name.replace(/.+\./,""),n=["XLS","xls","XLSX","xlsx"];if(-1===n.indexOf(r.toLowerCase()))return this.$message.warning("请上传格式正确的文件"),void(this.fileList=[]);e.length>0&&(this.fileList=[e[e.length-1]])},requestChange:function(){var t=this;if(0==this.fileList.length)return this.$message.error("请上传文件");var e=new FormData;e.append("file",this.fileList[0].raw),e.append("cityId",this.id),this.$http.post(this.uploadUrl,e).then((function(e){if(0!=e.data.code)return t.errormessage=e.data.msg,t.$message.error(e.data.msg);t.$message.success(e.data.msg),t.visible=!1,t.errormessage="",t.$emit("getData")}))},downLoadTemplate:function(){this.$emit("downLoadTemplate")}}}),o=i,s=(a("af80"),a("2877")),l=Object(s["a"])(o,r,n,!1,null,"680bcb71",null);e["default"]=l.exports},3952:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"note-container"},[e("el-card",{staticClass:"aui-card--fill",attrs:{shadow:"never"}},[e("el-form",{ref:"studyForm",attrs:{inline:!0,model:t.dataForm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchData()}}},[e("el-form-item",{attrs:{label:"被举报号码"}},[e("el-input",{attrs:{clearable:""},model:{value:t.dataForm.reportedNumber,callback:function(e){t.$set(t.dataForm,"reportedNumber",e)},expression:"dataForm.reportedNumber"}})],1),e("el-form-item",{attrs:{label:"被举报号码归属地"}},[e("el-input",{attrs:{clearable:""},model:{value:t.dataForm.reportedNumberCity,callback:function(e){t.$set(t.dataForm,"reportedNumberCity",e)},expression:"dataForm.reportedNumberCity"}})],1),e("el-form-item",{attrs:{label:"举报人号码"}},[e("el-input",{attrs:{clearable:""},model:{value:t.dataForm.reportingNumber,callback:function(e){t.$set(t.dataForm,"reportingNumber",e)},expression:"dataForm.reportingNumber"}})],1),e("el-form-item",{attrs:{label:"举报时间"}},[e("el-date-picker",{attrs:{clearable:"","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:t.daterange,callback:function(e){t.daterange=e},expression:"daterange"}})],1),e("el-form-item",{attrs:{label:"投诉渠道"}},[e("el-select",{attrs:{placeholder:"请选择","collapse-tags":"",clearable:""},model:{value:t.dataForm.reportSourceType,callback:function(e){t.$set(t.dataForm,"reportSourceType",e)},expression:"dataForm.reportSourceType"}},t._l(t.reportSourceTypes,(function(t){return e("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}})})),1)],1),e("el-form-item",[e("el-button",{on:{click:function(e){return t.searchData()}}},[t._v("查询")])],1),e("el-form-item",[e("el-button",{attrs:{type:"success"},on:{click:t.resetting}},[t._v("重置")])],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.exportExl}},[t._v("批量导出")])],1),e("el-form-item",[e("el-button",{attrs:{type:"danger"},on:{click:t.uploadRinse}},[t._v("批量导入")])],1),e("el-form-item",[e("el-button",{on:{click:t.backpage}},[t._v("返回")])],1)],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dataListLoading,expression:"dataListLoading"}],ref:"tables",staticClass:"tab",staticStyle:{width:"100%"},attrs:{data:t.dataList,border:"","header-cell-style":{background:"rgba(194, 210, 255, 0.3)",color:"#040415"},"row-key":t.getRowsKey,"row-style":t.iRowStyle,"cell-style":t.iCellStyle,"header-row-style":t.iHeaderRowStyle},on:{"selection-change":t.dataListSelectionChangeHandle}},[e("el-table-column",{attrs:{type:"selection","header-align":"center",align:"center",width:"50","reserve-selection":!0}}),e("el-table-column",{attrs:{prop:"serialNumber",align:"center",label:"工单编号",width:"150"}}),e("el-table-column",{attrs:{prop:"approvalStatusStr",label:"审核状态",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"feedbackStatusStr",label:"反馈状态",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:t.statusType(a.row.feedbackStatus).type}},[t._v("\n                            "+t._s(a.row.feedbackStatusStr)+"\n                        ")])]}}])}),e("el-table-column",{attrs:{prop:"reportSourceTypeStr",label:"投诉渠道",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"reportedNumber",label:"被举报号码",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"reportedNumberCity",label:"被举报号码所属市",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"reportingNumber",label:"举报人号码",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"reportingNumberCity",label:"举报号码归属市",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"reportingNumberOperator",label:"举报号码运营商",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"reportingNumberProvince",label:"举报号码归属省",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"verificationType",label:"核查类型",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"reportedNumberOperator",label:"被举报号码运营商",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"reportedNumberProvince",label:"被举报号码归属省",align:"center",width:"150"}}),e("el-table-column",{attrs:{prop:"reportingTime",label:"举报时间",align:"center",width:"150"}}),e("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.Lookdetail(a.row.id)}}},[t._v("查看详情")])]}}])})],1),e("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,50,100],"page-size":t.limit,total:t.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"size-change":t.pageSizeChangeHandle,"current-change":t.pageCurrentChangeHandle}})],1),t.uploadVisible?e("batch-up",{ref:"upload",attrs:{title:t.title},on:{getData:t.getListData}}):t._e()],1)},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=(a("7f7f"),a("c5f6"),a("ed08")),s=a("33a8"),l=a("d7b1"),c=a("5d2d"),u=(a("a865"),a("dea3")),d=a("4328"),p=a.n(d);function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={props:{},mixins:[l["a"]],components:{batchUp:s["default"]},data:function(){return{errormessage:"",id:"",url:"",daterange:[],dataForm:{reportedNumber:"",reportedNumberCity:"",reportingNumber:"",startDate:"",endDate:"",reportSourceType:""},projectStatusList:Object(o["b"])("reportStatus"),dataList:[],page:1,limit:10,total:0,citys:[],pid:"320000",reportSourceTypes:Object(o["b"])("reportSourceType")}},computed:{statusType:function(){return function(t){var e={};switch(Number(t)){case 0:e.txt="未反馈",e.type="info";break;case 2:e.txt="已反馈",e.type="success";break;case 1:e.txt="部分反馈",e.type="warning";break;case 3:e.txt="超时反馈",e.type="danger";break;case 4:e.txt="反馈未通过",e.type="";break;default:e.txt="-",e.type="";break}return e}}},activated:function(){var t=Object(c["a"])("Involved_id");this.id!=t&&(this.id=t,this.getListData(),this.$refs["tables"].clearSelection())},created:function(){},watch:{daterange:function(t){this.dataForm.startDate=null!==t?t[0]:"",this.dataForm.endDate=null!==t?t[1]:""}},mounted:function(){},methods:{iRowStyle:function(t){t.row,t.rowIndex;return"height:30px"},iHeaderRowStyle:function(t){t.row,t.rowIndex;return"height:30px"},iCellStyle:function(t){t.row,t.column,t.rowIndex,t.columnIndex;return"padding:0px"},backpage:function(){var t=this;this.$store.state.contentTabs=this.$store.state.contentTabs.filter((function(e){return e.name!==t.$store.state.contentTabsActiveName})),this.$router.push({path:"/orderfeedback-repairback"})},following:function(){},uploadRinse:function(){var t=this;this.title="导入项目",this.uploadVisible=!0,this.$nextTick((function(){t.$refs.upload.uploadUrl="/workorder/woBaseFeedBack/import/update",t.$refs.upload.id=t.id,t.$refs.upload.init()}))},requestChange:function(t){var e=this;if(0==t.length)return this.$message.error("请上传文件");var a=new FormData;a.append("file",t[0].raw),a.append("cityId",this.id),this.$http.post("/workorder/woBaseFeedBack/import/update",a).then((function(t){if(0!=t.data.code)return e.errormessage=t.data.msg,e.$message.error(t.data.msg);e.$message.success("上传成功"),e.uploadVisible=!1,e.errormessage="",e.getListData()}))},exportExl:function(){var t=this,e=[];this.dataListSelections.length>0&&(e=this.dataListSelections.map((function(t){return t.id}))),this.$confirm("根据检索条件，共计将导出".concat(e.length>0?e.length:this.total,"条数据, 是否继续?"),"批量导出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(a,r,n){if("confirm"===a){r.confirmButtonLoading=!0;var i=p.a.stringify(m(m({token:t.$getUserToken("token")},t.dataForm),{},{ids:e.join(),cityId:t.id}));t.$http({method:"get",withCredentials:!1,timeout:36e4,responseType:"blob",url:"/workorder/woBaseFeedBack/export?".concat(i)}).then((function(e){Object(u["a"])(e.data,t.$route.meta.title)})),r.confirmButtonLoading=!1,t.$refs["tables"].clearSelection(),n()}else n()}}).finally((function(){ctx.confirmButtonLoading=!1})).catch((function(){ctx.confirmButtonLoading=!1}))},resetting:function(){this.dataForm=this.$options.data().dataForm,this.daterange=[],this.getListData()},getListData:function(){var t=this;this.dataListLoading=!0,this.$http.get("/workorder/woBaseFeedBack/fraudCodePage",{params:m(m({page:this.page,limit:this.limit},this.dataForm),{},{id:this.id})}).then((function(e){if(0!=e.data.code)return t.dataListLoading=!1,t.$message.error(e.data.msg);t.dataList=e.data.data.list,t.total=e.data.data.total,t.dataListLoading=!1}))},Lookdetail:function(t){this.$router.push({path:"/involvednumber-details",query:{id:t}})}}},h=g,b=a("2877"),y=Object(b["a"])(h,r,n,!1,null,"24312676",null);e["default"]=y.exports},"5d2d":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return i}));var r=a("53ca"),n=function(t){var e=window.sessionStorage.getItem(t);try{return JSON.parse(e)}catch(a){return e}},i=function(t,e){"object"===Object(r["a"])(e)&&(e=JSON.stringify(e)),window.sessionStorage.setItem(t,e)}},a865:function(t,e,a){"use strict";a.d(e,"j",(function(){return n})),a.d(e,"g",(function(){return i})),a.d(e,"h",(function(){return o})),a.d(e,"i",(function(){return s})),a.d(e,"a",(function(){return l})),a.d(e,"k",(function(){return c})),a.d(e,"d",(function(){return u})),a.d(e,"e",(function(){return d})),a.d(e,"b",(function(){return p})),a.d(e,"f",(function(){return f})),a.d(e,"c",(function(){return m}));var r=a("b775"),n=function(t){return Object(r["a"])({method:"GET",url:"/system/sys/region/list",params:t})},i=function(t){return Object(r["a"])({method:"GET",url:"/dataprocess/catAssist/page",params:t})},o=function(t){return Object(r["a"])({method:"get",url:"/dataprocess/catAssist/".concat(t)})},s=function(t){return Object(r["a"])({method:"get",url:"/dataprocess/catAssist/downLoadFile?".concat(t),withCredentials:!1,timeout:36e4,responseType:"blob"})},l=function(t){return Object(r["a"])({method:"POST",url:"/dataprocess/catAssist/delete",data:t})},c=function(t,e){return Object(r["a"])({method:"POST",url:t?"/dataprocess/catAssist/update":"/dataprocess/catAssist",data:e})};function u(t){return Object(r["a"])({method:"get",url:"/datamanage/dataStatOverview/exportReportDataStat",params:t,withCredentials:!1,timeout:36e4,responseType:"blob"})}function d(t){return Object(r["a"])({method:"get",url:"/datamanage/dataStatOverview/exportIssueDataStat",params:t,withCredentials:!1,timeout:36e4,responseType:"blob"})}function p(t){return Object(r["a"])({method:"get",url:"/datamanage/dataStatOverview/exportReportCmccStat",params:t,withCredentials:!1,timeout:36e4,responseType:"blob"})}function f(t){return Object(r["a"])({method:"get",url:"/datamanage/dataStatOverview/exportCmccStat",params:t,withCredentials:!1,timeout:36e4,responseType:"blob"})}function m(t){return Object(r["a"])({method:"get",url:"/datamanage/dataStatOverview/exportReportGroupDataStat",params:t,withCredentials:!1,timeout:36e4,responseType:"blob"})}},af80:function(t,e,a){"use strict";a("b525")},b525:function(t,e,a){},d7b1:function(t,e,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var r=a("ade3"),n=a("4328"),i=a.n(n),o=a("dea3");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}e["a"]={data:function(){return Object(r["a"])({mixinViewModuleOptions:{exportExlUrl:""},dataList:[],dataListLoading:!1,page:1,limit:10,total:0,scrollTops:0,dataListSelections:[],uploadLoading:!1,uploadVisible:!1,title:"",url:"",downLoadUrl:""},"dataListSelections",[])},activated:function(){window.addEventListener("scroll",this.handleScroll,!0),this.listenerFunction()},deactivated:function(){window.removeEventListener("scroll",this.handleScroll,!0)},methods:{searchData:function(){this.dataListSelections.length>0&&this.$refs["tables"].clearSelection(),this.page=1,this.getListData()},pageSizeChangeHandle:function(t){this.page=1,this.limit=t,this.getListData()},pageCurrentChangeHandle:function(t){this.page=t,this.getListData()},getRowsKey:function(t){return t.id},dataListSelectionChangeHandle:function(t){this.dataListSelections=t},listenerFunction:function(){var t=this;this.$nextTick((function(){document.documentElement.scrollTop=t.scrollTops}))},getScrollPosition:function(){var t=document.documentElement.scrollTop;this.scrollTops=t},handleScroll:function(t){this.scrollTops=document.documentElement.scrollTop},exportExl:function(){var t=this,e=[];this.dataListSelections.length>0&&(e=this.dataListSelections.map((function(t){return t.id}))),this.$confirm("根据检索条件，共计将导出".concat(e.length>0?e.length:this.total,"条数据, 是否继续?"),"批量导出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(a,r,n){if("confirm"===a){r.confirmButtonLoading=!0;var s=i.a.stringify(l(l({token:t.$getUserToken("token")},t.dataForm),{},{ids:e.join()}));t.$http({method:"get",withCredentials:!1,timeout:36e4,responseType:"blob",url:"".concat(t.mixinViewModuleOptions.exportExlUrl,"?").concat(s)}).then((function(e){Object(o["a"])(e.data,t.$route.meta.title)})),r.confirmButtonLoading=!1,t.$refs["tables"].clearSelection(),n()}else n()}}).finally((function(){ctx.confirmButtonLoading=!1})).catch((function(){ctx.confirmButtonLoading=!1}))},del:function(t){var e=this,a=[];a.push(t),this.$confirm("此操作将删除该上报记录，请确认操作！","删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){},beforeClose:function(t,r,n){"confirm"===t?e.$http.post("/dataprocess/catAssist/delete",a).then((function(t){if(0!==t.data.code)return n(),r.confirmButtonLoading=!1,e.$message.error(t.data.msg);r.confirmButtonLoading=!1,n(),e.getListData(),e.$message.success("删除成功")})):n()}}).finally((function(){ctx.confirmButtonLoading=!1})).catch((function(){ctx.confirmButtonLoading=!1})),this.page>1&&(this.total-1)%this.limit===0&&(this.page-=1)}}}}}]);